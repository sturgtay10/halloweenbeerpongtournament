
:root{
  --bg1:#05010a;
  --accent:#ff7b00;
  --purple:#4a0070;
}

html, body{
  height:100%;
  width:100%;
  margin:0;
  padding:0;
  overflow:hidden; /* no scroll anywhere */
  background:var(--bg1);
  color:#ffae00;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  -webkit-font-smoothing:antialiased;
}

/* ---- Top-right animated logo ---- */
.tournament-logo{
  position:fixed;
  top:1rem; right:1rem;
  width:min(260px, 30vw);
  height:auto;
  filter:drop-shadow(0 0 20px rgba(255,140,0,.9));
  animation: floatLogo 3s ease-in-out infinite alternate, fadeInLogo 1.2s ease-out;
  z-index:10;
}
@keyframes floatLogo{ from{ transform:translateY(0) rotate(-1deg); } to{ transform:translateY(-6px) rotate(1deg); } }
@keyframes fadeInLogo{ from{ opacity:0; transform:scale(.95);} to{opacity:1; transform:scale(1);} }

/* ---- Top-left controls transparent rounded box ---- */
.tournament-controls{
  position:fixed;
  top:1rem; left:1rem;
  z-index:10;
  background:rgba(0,0,0,.35);
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  padding:.6rem .8rem;
  backdrop-filter: blur(4px);
}
.controls{ display:flex; flex-wrap:wrap; gap:.45rem; align-items:center; }
.controls button{
  background:linear-gradient(180deg,#331536,#220922);
  color:#ff9500;
  border:1px solid rgba(255,255,255,.12);
  padding:6px 12px;
  border-radius:8px;
  cursor:pointer;
  font-weight:600;
  font-size:.9rem;
}

/* ---- Centered phase title above bracket ---- */
.phase-title {
  position: absolute;
  top: 0;
  left: 50%;
  transform: translate(-50%, -120%);
  text-align: center;
  font-weight: 900;
  font-size: 1.3rem;
  letter-spacing: 0.5px;
  text-shadow: 0 0 18px rgba(255, 140, 0, 0.6);
  z-index: 9;
  transition: transform 0.3s ease, font-size 0.3s ease;
}

/* ---- Bracket fit-to-window ---- */
.wrap{ position:relative; z-index:5; width:100vw; height:100vh; }
.bracket-wrap{
  position:absolute; inset:0;
  display:flex; justify-content:center; align-items:center;
  overflow:hidden; /* no internal scroll either */
}
.bracket{
  display:flex; align-items:flex-start; justify-content:center;
  gap:1.4vw; padding:12px;
  
  transform-origin:center center;
}

/* rounds & matches */
.round{
  min-width:180px;
  background:linear-gradient(180deg, rgba(35,2,63,.8), rgba(0,0,0,.08));
  padding:12px; border-radius:10px;
  border:1px solid rgba(255,255,255,.06);
}
.round .title{ font-weight:800; margin-bottom:10px; text-align:center; }
.match{
  background:linear-gradient(180deg, rgba(255,255,255,.05), rgba(0,0,0,.2));
  border:1px solid rgba(255,255,255,.1);
  border-radius:8px; padding:6px; margin-bottom:12px;
}
.slot{ display:flex; align-items:center; justify-content:space-between; gap:8px; padding:8px; border-radius:8px; cursor:pointer; transition:transform .14s; }
.slot:hover{ transform:translateY(-3px); }
.badge{ width:36px; height:36px; border-radius:6px; background:linear-gradient(180deg,#2b0b27,#501033); display:flex; align-items:center; justify-content:center; font-weight:800; color:#ffaa00; }
.name{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.winner{ border-left:4px solid var(--accent); }

/* connectors */
.connectors{ position:absolute; inset:0; pointer-events:none; z-index:5; }
.connectors path{ fill:none; stroke:#ff9333; stroke-width:2.5; filter: drop-shadow(0 0 6px rgba(255,140,0,.95)); opacity:.95; }

/* ---- Champion popup (purple box + orange glow) ---- */
.champion-popup{
  position:fixed; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center;
  background: rgba(0,0,0,.6);
  z-index:9999;
  transition: opacity .25s ease;
}
.champion-popup.hidden{ opacity:0; pointer-events:none; }
.popup-img{ width:260px; filter: drop-shadow(0 0 25px rgba(255,100,150,.9)); }
#champion-name{ font-size:2rem; color:#ff8b00; margin:22px 0 10px 0; text-shadow:0 0 28px #ff5500; }
#close-popup {
  background: rgba(255, 149, 0, 0.85);
  border: 2px solid #ffae00;
  color: #1a0101;
  border-radius: 10px;
  padding: 10px 22px;
  font-weight: 800;
  cursor: pointer;
  box-shadow: 0 0 20px rgba(255, 149, 0, 0.8);
  transition: background 0.2s ease, box-shadow 0.2s ease;
}
#close-popup:hover {
  background: rgba(255, 180, 0, 1);
  box-shadow: 0 0 35px rgba(255, 180, 0, 1);
}
@keyframes buttonPulse{ from{ box-shadow:0 0 12px #ff7b00; } to{ box-shadow:0 0 30px #ffae00; } }

/* add purple framed container behind popup content */
.champion-popup::before{
  content:"";
  position:absolute; width:min(560px, 86vw); max-width:92vw;
  height:auto; aspect-ratio: 16/10;
  background: linear-gradient(180deg, #26013a, #3d0a4f);
  border:3px solid #ff7b00; border-radius:24px;
  box-shadow: 0 0 40px #ff7b00;
  z-index:-1;
}

/* Background / effects */
.bg{ position:fixed; inset:0; pointer-events:none; z-index:0; }
.bg-overlay{ position:fixed; inset:0; background: linear-gradient(rgba(148, 3, 136, 0.459),rgba(0,0,0,0.9)), url('assets/bg-halloween.jpg') center/cover no-repeat; opacity:1; }
.fogimg{ position:fixed; left:-10%; top:8%; width:1400px; opacity:.15; filter:blur(8px); }
.batsimg{ position:fixed; left:-30%; top:25%; width:900px; opacity:.95; display:none; }
.bat-fly{ display:block !important; animation: flyAcross 3.5s ease-in-out forwards; }
@keyframes flyAcross{ 0%{ left:-30%; transform:scaleX(1) translateY(0); opacity:0; } 10%{ opacity:1; } 50%{ transform:scaleX(1.1) translateY(-20px); } 100%{ left:110%; transform:scaleX(1) translateY(0); opacity:0; } }

.lightning{ position:fixed; inset:0; pointer-events:none; z-index:2; mix-blend-mode:screen; }
.lightning.flash{ background: radial-gradient(ellipse at center, rgba(255,255,255,0.95), rgba(255,166,0,0.6), rgba(0,0,0,0) 70%); animation: lightningFlash 1.2s ease-out; }
@keyframes lightningFlash{ 0%{opacity:0;} 8%{opacity:1;} 40%{opacity:.25;} 60%{opacity:1;} 100%{opacity:0;} }


.footer-note {
  position: fixed;
  bottom: 10px;
  left: 50%;
  transform: translateX(-50%);
  text-align: center;
  font-size: 0.85rem;
  color: #ffae00;
  opacity: 0.8;
  z-index: 8;
  width: 100%;
  pointer-events: none;
}
.footer-note .small {
  pointer-events: auto;
}


/* === Loser Bracket Red Theme === */
.mode-losers .round {
  background: linear-gradient(180deg, rgba(80, 0, 0, 0.8), rgba(20, 0, 0, 0.5));
  border-color: rgba(255, 60, 60, 0.25);
}

.mode-losers .match {
  background: linear-gradient(180deg, rgba(255, 40, 40, 0.1), rgba(100, 0, 0, 0.3));
  border-color: rgba(255, 80, 80, 0.25);
}

.mode-losers .slot {
  background: rgba(60, 0, 0, 0.3);
}

.mode-losers .winner {
  border-left: 4px solid #ff3030;
}

.mode-losers .connectors path {
  stroke: #ff4040;
  filter: drop-shadow(0 0 6px rgba(255, 50, 50, 0.9));
}

.mode-losers .phase-title {
  color: #ff4444;
  text-shadow: 0 0 18px rgba(255, 60, 60, 0.8);
}


/* === Grand Final Fire Theme === */
.mode-final .round {
  background: linear-gradient(180deg, rgba(120, 40, 0, 0.85), rgba(40, 10, 0, 0.6));
  border-color: rgba(255, 120, 20, 0.4);
  animation: firePulse 2.2s infinite ease-in-out alternate;
}

.mode-final .match {
  background: linear-gradient(180deg, rgba(255, 120, 40, 0.1), rgba(80, 30, 0, 0.4));
  border-color: rgba(255, 120, 40, 0.4);
  box-shadow: 0 0 12px rgba(255, 80, 0, 0.6);
}

.mode-final .slot {
  background: rgba(60, 20, 0, 0.4);
}

.mode-final .winner {
  border-left: 4px solid #ff7b00;
  box-shadow: 0 0 12px rgba(255, 100, 0, 0.9);
}

.mode-final .connectors path {
  stroke: #ff9933;
  filter: drop-shadow(0 0 10px rgba(255, 150, 50, 1));
  animation: flickerFire 1.5s infinite ease-in-out alternate;
}

.mode-final .phase-title {
  color: #ffae00;
  text-shadow: 0 0 25px rgba(255, 160, 0, 0.95), 0 0 60px rgba(255, 80, 0, 0.6);
  animation: fireTitleGlow 2.5s infinite ease-in-out alternate;
}

@keyframes firePulse {
  from { box-shadow: 0 0 25px rgba(255, 120, 0, 0.3), 0 0 50px rgba(255, 80, 0, 0.2); }
  to   { box-shadow: 0 0 40px rgba(255, 150, 0, 0.6), 0 0 80px rgba(255, 100, 0, 0.4); }
}

@keyframes flickerFire {
  0%, 100% { opacity: 1; stroke-width: 2.5; }
  50% { opacity: 0.7; stroke-width: 3; }
}

@keyframes fireTitleGlow {
  from { text-shadow: 0 0 18px rgba(255, 150, 0, 0.7), 0 0 45px rgba(255, 60, 0, 0.4); }
  to   { text-shadow: 0 0 35px rgba(255, 200, 0, 1), 0 0 80px rgba(255, 100, 0, 0.8); }
}

/* ==== TITLE SCREEN ==== */
.title-screen {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at center, #150013 0%, #05010a 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  overflow: hidden;
  animation: fadeInLogo 1.5s ease-out;
}

.title-logo {
  width: min(480px, 80vw);
  height: auto;
  filter: drop-shadow(0 0 40px rgba(255,140,0,1));
  animation: floatLogo 4s ease-in-out infinite alternate;
  position: relative;
  z-index: 2;
}

.start-btn {
  margin-top: 2.2rem;
  background: linear-gradient(180deg, #ff7b00, #ff5500);
  color: #1a0101;
  border: 2px solid #ffae00;
  font-size: 1.2rem;
  font-weight: 800;
  padding: 14px 36px;
  border-radius: 12px;
  cursor: pointer;
  box-shadow: 0 0 25px rgba(255, 140, 0, 0.9);
  transition: transform 0.2s ease, box-shadow 0.3s ease;
  z-index: 2;
}
.start-btn:hover {
  transform: scale(1.08);
  box-shadow: 0 0 40px rgba(255, 180, 0, 1);
}

.title-option {
  margin-top: 1rem;
  color: #ffae00;
  font-weight: 600;
  font-size: 1rem;
  z-index: 2;
}

.title-fog {
  position: absolute;
  left: -10%;
  top: 10%;
  width: 1400px;
  opacity: 0.2;
  filter: blur(8px);
  animation: fogMove 30s linear infinite alternate;
}
@keyframes fogMove {
  from { transform: translateX(0); }
  to { transform: translateX(100px); }
}

.title-bats {
  position: absolute;
  top: 25%;
  left: -20%;
  width: 800px;
  opacity: 0.8;
  animation: flyAcross 6s ease-in-out infinite alternate;
}

.hidden { display: none !important; }
.fade-out { opacity: 0; transition: opacity 1s ease; }

#back-title {
  background: linear-gradient(180deg, #330b0b, #550000);
  color: #ff7b00;
  border: 1px solid rgba(255, 80, 0, 0.4);
  box-shadow: 0 0 12px rgba(255, 60, 0, 0.4);
}
#back-title:hover {
  background: linear-gradient(180deg, #661111, #770000);
  box-shadow: 0 0 25px rgba(255, 80, 0, 0.8);
}
